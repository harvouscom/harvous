---
export interface Props {
  title?: string;
  date?: string;
  noteId?: string;
  content?: string;
  noteType?: 'default' | 'scripture' | 'resource';
  className?: string;
}

const {
  title = "Note from our founder, Derek",
  date = "Feb 7, 2025",
  noteId = undefined,
  content = "Thank you so much for trying out this notes app designed for Bible study. It's been a project I've been working on for a good amount of time. The goal of Harvous is to be the digital tool and space for you and others to use for your Bible study.\n\nHow it began... I was frustrated with there not being a good notes app just for my Bible study. I used Apple Notes and made a ton of highlights in the YouVersion Bible app. I needed a better app, so I sought out to design one. And with the help of my friend, Cam, we built this Bible study notes app.\n\nPlease if you come across anything that isn't working as it prolly should or if you have any feedback for us send it here.",
  noteType = 'default',
  className = ""
} = Astro.props;
---

<div class={`bg-white box-border content-stretch flex flex-col gap-6 items-start justify-start overflow-clip pb-3 pt-6 px-3 relative rounded-[24px] shadow-[0px_3px_20px_0px_rgba(120,118,111,0.1)] size-full ${className}`}>
  <!-- Header with title and bookmark icon -->
  <div class="box-border content-stretch flex gap-3 items-center justify-center px-3 py-0 relative shrink-0 w-full">
    <div class="basis-0 font-sans font-semibold grow leading-[0] min-h-px min-w-px not-italic relative shrink-0 text-[var(--color-deep-grey)] text-[24px]">
      <p class="leading-[normal]">{title}</p>
    </div>
    <div class="flex items-center gap-2">
      <!-- Note type indicator -->
      {noteType !== 'default' && (
        <div class="bg-[var(--color-blue)] text-white rounded-full p-1.5 shadow-sm">
          {noteType === 'scripture' && (
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
              <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
            </svg>
          )}
          {noteType === 'resource' && (
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
              <path d="M10.59 13.41c.41.39.41 1.03 0 1.42-.39.39-1.03.39-1.42 0a5.003 5.003 0 0 1 0-7.07l3.54-3.54a5.003 5.003 0 0 1 7.07 0 5.003 5.003 0 0 1 0 7.07l-1.49 1.49c.01-.82-.12-1.64-.4-2.42l.47-.48a2.982 2.982 0 0 0 0-4.24 2.982 2.982 0 0 0-4.24 0l-3.53 3.53a2.982 2.982 0 0 0 0 4.24zm2.82-4.24c.39-.39 1.03-.39 1.42 0a5.003 5.003 0 0 1 0 7.07l-3.54 3.54a5.003 5.003 0 0 1-7.07 0 5.003 5.003 0 0 1 0-7.07l1.49-1.49c-.01.82.12 1.64.4 2.42l-.47.48a2.982 2.982 0 0 0 0 4.24 2.982 2.982 0 0 0 4.24 0l3.53-3.53a2.982 2.982 0 0 0 0-4.24z"/>
            </svg>
          )}
        </div>
      )}
      <!-- Bookmark icon -->
      <div class="relative shrink-0 size-5">
        <svg class="block max-w-none size-full text-[var(--color-deep-grey)] " fill="currentColor" viewBox="0 0 24 24">
          <path d="M17 3H7c-1.1 0-2 .9-2 2v16l7-3 7 3V5c0-1.1-.9-2-2-2z"/>
        </svg>
      </div>
    </div>
  </div>
  
  <!-- Date and Note ID -->
  <div class="box-border content-stretch flex font-sans font-normal items-center leading-[0] not-italic px-3 py-0 relative shrink-0 text-[var(--color-stone-grey)] text-[12px] text-nowrap w-full" class:list={[
    "justify-between",
    noteId ? "justify-between" : "justify-start"
  ]}>
    <div class="relative shrink-0">
      <p class="leading-[normal] text-nowrap whitespace-pre">{date}</p>
    </div>
    {noteId && (
      <div class="relative shrink-0">
        <p class="leading-[normal] text-nowrap whitespace-pre">#{noteId}</p>
      </div>
    )}
  </div>
  
  <!-- Content -->
  <div class="basis-0 box-border content-stretch flex grow items-start justify-between min-h-px min-w-px px-3 py-0 relative shrink-0 w-full">
    <div class="basis-0 flex flex-col font-sans font-normal grow justify-center leading-[1.6] min-h-px min-w-px not-italic relative shrink-0 text-[var(--color-deep-grey)] text-[16px]">
      {content.split('\n\n').map((paragraph, index) => (
        <p class={`mb-0 whitespace-pre-wrap ${index === content.split('\n\n').length - 1 ? '' : 'mb-4'}`}>
          {paragraph}
        </p>
      ))}
    </div>
  </div>
</div>
