---
interface Props {
  placeholder: string;
  name?: string;
  required?: boolean;
}

const { 
  placeholder, 
  name = "title", 
  required = true 
} = Astro.props;
---

<input
  class="title-input"
  type="text"
  name={name}
  placeholder={placeholder}
  required={required}
  id="title-input"
/>

<style>
  .title-input {
    display: flex;
    width: 100%;
    height: 60px;
    padding: 8px 12px;
    align-items: center;
    gap: 12px;
    border-radius: 12px;
    background: var(--color-fog-white, #F7F7F6);
    border: none;
    font-family: inherit;
    font-size: 16px;
  }

  .title-input:focus {
    outline: none;
    box-shadow: 0 0 0 2px var(--color-bold-blue, #0066FF);
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const titleInput = document.getElementById('title-input') as HTMLInputElement;
    
    if (titleInput) {
      // Function to capitalize first letter while typing
      titleInput.addEventListener('input', function(this: HTMLInputElement) {
        const cursorPosition = this.selectionStart || 0;
        const value = this.value;
        
        // Only capitalize if we're editing the first character
        if (value && cursorPosition <= 1) {
          this.value = value.charAt(0).toUpperCase() + value.slice(1);
          
          // Restore cursor position
          this.setSelectionRange(cursorPosition, cursorPosition);
        }
      });
      
      // Auto-capitalize on initial focus if empty
      titleInput.addEventListener('focus', function(this: HTMLInputElement) {
        if (!this.value) {
          // Set initial capitalization for placeholder text that will be typed
          this.value = this.value.charAt(0).toUpperCase() + this.value.slice(1);
        }
      });
    }
  });
</script> 