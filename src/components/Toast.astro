---
import FaXmarkIcon from "@fortawesome/fontawesome-free/svgs/solid/xmark.svg";
---

<div
  x-cloak
  x-show="showToast"
  x-transition:enter="transition ease-out duration-300"
  x-transition:enter-start="transform translate-y-[-1rem]"
  x-transition:enter-end="transform translate-y-0"
  x-transition:leave="transition ease-in duration-300"
  x-transition:leave-start="transform translate-y-0"
  x-transition:leave-end="transform translate-y-[-1rem]"
  class="fixed top-3 left-3 right-3 mx-auto max-w-md z-50"
  @toast.window="makeToast($event.detail.message || 'Notification', $event.detail.type || 'info')"
>
  <section 
    role="alert" 
    x-bind:data-type="type" 
    class="toast text-white rounded-lg max-w-[366px] mx-auto py-4.5 px-5 grid grid-cols-[1fr_auto] gap-3 items-center"
  >
    <p class="text-subtitle" x-text="message"></p>
    <button
      @click="dismissToast()" 
    >
      {/* @ts-ignore */}
      <FaXmarkIcon class="w-4 h-4 fill-white" />
    </button>
  </section>
</div>

<style>
    .toast[data-type="info"] {
      background-color: var(--color-stone-grey);
      box-shadow: 0px 4px 4px 0px #00000040;
    }

    .toast[data-type="error"] {
      background-color: var(--color-red);
      box-shadow: 0px 4px 4px 0px #00000040;
    }
</style>