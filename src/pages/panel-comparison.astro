---
import Layout from '../layouts/Layout.astro';
import NewNotePanel from '../components/NewNotePanel.astro';
import NewNotePanelSimple from '../components/NewNotePanelSimple.astro';
---

<Layout title="Panel Comparison">
  <div class="max-w-6xl mx-auto p-6">
    <h1 class="text-3xl font-bold mb-6">NewNotePanel Comparison</h1>
    <p class="text-gray-600 mb-8">
      Comparing the original 700+ line Astro component vs. the clean React Islands version.
    </p>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
      <!-- Original Astro Version -->
      <div class="border border-gray-300 rounded-lg p-6">
        <h2 class="text-xl font-semibold mb-4 text-red-600">Original Astro Version</h2>
        <div class="bg-gray-50 p-4 rounded mb-4">
          <h3 class="font-semibold mb-2">Issues:</h3>
          <ul class="text-sm text-gray-600 space-y-1">
            <li>• 700+ lines of code</li>
            <li>• Complex QuillEditor integration</li>
            <li>• Mixed concerns (panel + editor)</li>
            <li>• Difficult to maintain</li>
            <li>• Mobile/desktop complexity</li>
          </ul>
        </div>
        <div class="h-96 border border-gray-200 rounded">
          <NewNotePanel onClose={() => console.log('Original panel closed')} />
        </div>
      </div>

      <!-- React Islands Version -->
      <div class="border border-gray-300 rounded-lg p-6">
        <h2 class="text-xl font-semibold mb-4 text-green-600">React Islands Version</h2>
        <div class="bg-gray-50 p-4 rounded mb-4">
          <h3 class="font-semibold mb-2">Benefits:</h3>
          <ul class="text-sm text-gray-600 space-y-1">
            <li>• ~200 lines of clean React code</li>
            <li>• Separated concerns</li>
            <li>• Better state management</li>
            <li>• Same component for desktop/mobile</li>
            <li>• Easier to maintain</li>
          </ul>
        </div>
        <div class="h-96 border border-gray-200 rounded">
          <NewNotePanelSimple onClose={() => console.log('React panel closed')} />
        </div>
      </div>
    </div>

    <!-- Code Comparison -->
    <div class="mt-8">
      <h2 class="text-2xl font-semibold mb-4">Code Comparison</h2>
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <div>
          <h3 class="text-lg font-semibold mb-2 text-red-600">Original Astro (700+ lines)</h3>
          <div class="bg-gray-900 text-green-400 p-4 rounded text-sm font-mono overflow-x-auto">
            <div>// Complex Alpine.js state management</div>
            <div>x-data="{ title: '', content: '', selectedThread: 'Unorganized', ... }"</div>
            <div>// QuillEditor integration complexity</div>
            <div>const quillContainer = document.querySelector('#static-quill-container-new-note-content');</div>
            <div>// Multiple fallback methods for content extraction</div>
            <div>// 250+ lines of Quill-specific CSS</div>
            <div>// Complex event handling</div>
            <div>// Mobile/desktop responsive issues</div>
          </div>
        </div>
        <div>
          <h3 class="text-lg font-semibold mb-2 text-green-600">React Islands (~200 lines)</h3>
          <div class="bg-gray-900 text-green-400 p-4 rounded text-sm font-mono overflow-x-auto">
            <div>// Clean React state management</div>
            <div>const [title, setTitle] = useState('');</div>
            <div>const [content, setContent] = useState('');</div>
            <div>// Separated concerns</div>
            <div>// Better TypeScript support</div>
            <div>// Same component for desktop/mobile</div>
            <div>// Easier testing and maintenance</div>
            <div>// Mobile-ready for React Native</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Benefits Summary -->
    <div class="mt-8 bg-blue-50 p-6 rounded-lg">
      <h2 class="text-xl font-semibold mb-4">React Islands Benefits</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <h3 class="font-semibold mb-2">Code Quality</h3>
          <ul class="text-sm text-gray-600 space-y-1">
            <li>• 700+ lines → ~200 lines</li>
            <li>• Better TypeScript support</li>
            <li>• Cleaner component structure</li>
            <li>• Easier to debug</li>
          </ul>
        </div>
        <div>
          <h3 class="font-semibold mb-2">Maintenance</h3>
          <ul class="text-sm text-gray-600 space-y-1">
            <li>• Separated concerns</li>
            <li>• Better state management</li>
            <li>• Same component for desktop/mobile</li>
            <li>• Mobile app ready</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</Layout>
