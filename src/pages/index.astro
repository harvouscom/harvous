---
import Layout from "@/layouts/Layout.astro";

// Check if user is authenticated
const { userId } = Astro.locals.auth();

// Redirect unauthenticated users to sign-in
if (!userId) {
  return Astro.redirect('/sign-in');
}

// Redirect authenticated users to dashboard
return Astro.redirect('/dashboard');
---

<!-- This content won't be reached due to redirect, but keeping for reference -->
<Layout title="Harvous">
  <div class="min-h-screen bg-[var(--color-light-paper)] flex items-center justify-center">
    <div class="text-center">
      <h1 class="text-4xl font-bold text-[var(--color-deep-grey)] mb-4">Welcome to Harvous</h1>
      <p class="text-lg text-[var(--color-pebble-grey)] mb-8">
        Your personal knowledge workspace
      </p>
      <div class="space-x-4">
        <a 
          href="/dashboard" 
          class="inline-block px-8 py-4 bg-[var(--color-bold-blue)] text-white rounded-3xl font-semibold text-lg hover:bg-[var(--color-navy)] transition-colors"
        >
          Go to Dashboard
        </a>
        <a 
          href="/components" 
          class="inline-block px-8 py-4 bg-[var(--color-green)] text-[var(--color-deep-grey)] rounded-3xl font-semibold text-lg hover:bg-[var(--color-yellow)] transition-colors"
        >
          View Components
        </a>
        <a 
          href="/sign-in" 
          class="inline-block px-8 py-4 bg-[var(--color-stone-grey)] text-white rounded-3xl font-semibold text-lg hover:bg-[var(--color-deep-grey)] transition-colors"
        >
          Sign In
        </a>
      </div>
    </div>
  </div>
</Layout>
